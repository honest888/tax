{include file='public:header-css'/}
<div class="documents-dropzone">
	<div class="master-detail-layout">
		<header>
			<div class="app-bar app-bar--white app-bar--inline font-theme">
				<div class="row align-center gap-12">
					<a href="#" class="link-active" style="margin-right: 20px;">
						<svg width="19" height="17" viewBox="0 0 19 17" fill="none" xmlns="http://www.w3.org/2000/svg">
							<path d="M8.29549 1.28406C8.6889 0.896434 9.32205 0.901123 9.70967 1.29453C10.0973 1.68793 10.0926 2.32108 9.6992 2.7087L4.3289 8.00004L18 8.00004C18.5523 8.00004 19 8.44776 19 9.00004C19 9.55233 18.5523 10 18 10L4.33539 10L9.6992 15.285C10.0926 15.6726 10.0973 16.3058 9.70967 16.6992C9.32205 17.0926 8.6889 17.0973 8.29549 16.7096L1.3713 9.88725C0.87439 9.39764 0.87439 8.59605 1.3713 8.10644L8.29549 1.28406Z" fill="currentColor"></path>
						</svg>
					</a>
					<!--<img src="/storage/organizations/clqzwbo6500006iqim0mipw9z/public/教育行业.jpg" style="max-width: 80px; height: 40px; object-fit: contain;">-->
					<span class="mobile-hide">stanfordtax</span>
				</div>
				<div class="grow-1"></div>
				<div class="grow-1"></div>
				<div class="popover__child">
					<div class="row align-center cursor-pointer">
						<div class="user-avatar" style="background: rgb(255, 233, 213); color: rgb(230, 117, 13); width: 40px; height: 40px;">TL</div>
						<div style="width: 12px;"></div>
						<span class="font-14 font-family-inherit">tony LIao</span>
						<div style="width: 12px;"></div>
						<svg width="14" height="8" viewBox="0 0 14 8" fill="none" xmlns="http://www.w3.org/2000/svg">
							<path d="M1 1L7 7L13 1" stroke="#5D5F6B" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"></path>
						</svg>
					</div>
				</div>
			</div>
		</header>
		<div class="master-detail-layout__body">
			<nav class="master-detail-layout__nav mobile-hide">
				<div class="f-theme folder-sidebar column gap-20 position-relative">
					<div class="column gap-12" style="flex: 1 1 0%; overflow-y: auto; padding-top: 20px; padding-bottom: 120px;">
						<div class="row justify-between align-center" style="margin: 0px 10px;">
							<div class="folder-section-badge color-grey font-12 uppercase row align-center gap-6" style="border: 1px solid var(--color-grey); padding: 4px 15px; border-radius: 20px;">
								<svg width="12" height="12" viewBox="0 0 12 12" fill="none" xmlns="http://www.w3.org/2000/svg">
									<path d="M3.35357 2.39646C3.54882 2.59172 3.54881 2.9083 3.35355 3.10356L1.60355 4.85347C1.41451 5.04251 1.11021 5.04939 0.91281 4.8691L0.162811 4.1841C-0.0410874 3.99788 -0.055413 3.68162 0.130814 3.47772C0.31704 3.27382 0.633298 3.2595 0.837196 3.44572L1.23436 3.80847L2.64646 2.39644C2.84173 2.20118 3.15831 2.20119 3.35357 2.39646ZM3.35355 8.10356C3.54881 7.90831 3.54882 7.59172 3.35357 7.39646C3.15831 7.20119 2.84173 7.20118 2.64646 7.39644L1.23436 8.80847L0.837196 8.44572C0.633298 8.2595 0.31704 8.27382 0.130814 8.47772C-0.055413 8.68162 -0.0410874 8.99788 0.162811 9.1841L0.91281 9.8691C1.11021 10.0494 1.41451 10.0425 1.60355 9.85347L3.35355 8.10356ZM4.5 8.5C4.5 8.22386 4.72386 8 5 8H11.5C11.7761 8 12 8.22386 12 8.5C12 8.77614 11.7761 9 11.5 9H5C4.72386 9 4.5 8.77614 4.5 8.5ZM5 3C4.72386 3 4.5 3.22386 4.5 3.5C4.5 3.77614 4.72386 4 5 4H11.5C11.7761 4 12 3.77614 12 3.5C12 3.22386 11.7761 3 11.5 3H5Z" fill="#5D5F6B"></path>
								</svg>Tasks
							</div>
						</div>
						<div class="column">
							<div class="column">
								<a class="folder-list-item row align-center folder-list-item--selected">
									<span class="flex-1">Complete Questionnaire</span>
									<div class="folder-list-item-actions row align-center gap-6">
										<div class="popover__child">
											<button type="button" class="action-button action-button--mini action-button--icon-only" style="font-family: Gilroy;">
												<svg width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg">
													<path d="M7.99984 5.33329C8.73317 5.33329 9.33317 4.73329 9.33317 3.99996C9.33317 3.26663 8.73317 2.66663 7.99984 2.66663C7.2665 2.66663 6.6665 3.26663 6.6665 3.99996C6.6665 4.73329 7.2665 5.33329 7.99984 5.33329ZM7.99984 6.66663C7.2665 6.66663 6.6665 7.26663 6.6665 7.99996C6.6665 8.73329 7.2665 9.33329 7.99984 9.33329C8.73317 9.33329 9.33317 8.73329 9.33317 7.99996C9.33317 7.26663 8.73317 6.66663 7.99984 6.66663ZM7.99984 10.6666C7.2665 10.6666 6.6665 11.2666 6.6665 12C6.6665 12.7333 7.2665 13.3333 7.99984 13.3333C8.73317 13.3333 9.33317 12.7333 9.33317 12C9.33317 11.2666 8.73317 10.6666 7.99984 10.6666Z" fill="#5D5F6B"></path>
												</svg>
											</button>
										</div>
									</div>
								</a>
							</div>
						</div>
						<div class="column align-stretch" style="margin-top: 20px;">
							<div class="row justify-between align-center" style="margin: 0px 10px;">
								<div class="folder-section-badge color-grey font-12 uppercase row align-center gap-6" style="border: 1px solid var(--color-grey); padding: 4px 15px; border-radius: 20px;">
									<svg width="16" height="11" viewBox="0 0 16 11" fill="none" xmlns="http://www.w3.org/2000/svg">
										<path d="M8 0C10.8166 0 12.4145 1.92329 12.6469 4.24599L12.7179 4.24599C14.5306 4.24599 16 5.75792 16 7.62299C16 9.48806 14.5306 11 12.7179 11H3.28205C1.46942 11 0 9.48806 0 7.62299C0 5.82009 1.3731 4.34717 3.10199 4.25098L3.35314 4.24599C3.58687 1.90802 5.18335 0 8 0ZM8 1C5.88606 1 4.55108 2.31588 4.34818 4.34547C4.29707 4.85669 3.86688 5.24601 3.3531 5.24599L3.28207 5.24599C2.02819 5.24599 1 6.30392 1 7.62299C1 8.94206 2.02819 10 3.28205 10H12.7179C13.9718 10 15 8.94206 15 7.62299C15 6.30393 13.9718 5.24599 12.718 5.24599L12.6469 5.24599C12.1332 5.24601 11.703 4.85673 11.6518 4.34554C11.4497 2.32493 10.1085 1 8 1Z" fill="#5D5F6B"></path>
									</svg>Uploads
								</div>
								<div class="action-button action-button--mini action-button--icon-only">
									<input id="input-el8lf" multiple="" type="file">
									<svg width="20" height="20" viewBox="0 0 25 25" fill="none" xmlns="http://www.w3.org/2000/svg">
										<path fill-rule="evenodd" clip-rule="evenodd" d="M22 12.5C22 18.0228 17.5228 22.5 12 22.5C6.47715 22.5 2 18.0228 2 12.5C2 6.97715 6.47715 2.5 12 2.5C17.5228 2.5 22 6.97715 22 12.5ZM24 12.5C24 19.1274 18.6274 24.5 12 24.5C5.37258 24.5 0 19.1274 0 12.5C0 5.87258 5.37258 0.5 12 0.5C18.6274 0.5 24 5.87258 24 12.5ZM11 11.5V6.5H13V11.5H18V13.5H13V18.5H11V13.5H6V11.5H11Z" fill="currentColor"></path>
									</svg>
									<label class="action-button__file-label" for="input-el8lf"></label>
								</div>
							</div>
						</div>
					</div>
					<div class="button-group justify-center gap-20 wrap column" style="padding: 20px 10px 0px; margin-bottom: 80px;">
						<div class="button-group justify-center gap-20 wrap column">
							<button type="button" class="action-button action-button--secondary" style="font-family: Gilroy; max-width: 100%;">
								<svg width="20" height="20" viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg">
									<path d="M5.4693 9.71891L5.55342 9.64629C5.84703 9.42844 6.2637 9.45264 6.52996 9.71891L9.24934 12.4382L9.24963 5.74854L9.25648 5.64676C9.30614 5.28069 9.61994 4.99854 9.99963 4.99854L10.1014 5.00538C10.4675 5.05504 10.7496 5.36884 10.7496 5.74854L10.7493 12.4402L13.47 9.71831L13.5541 9.64567C13.8477 9.42776 14.2644 9.45189 14.5307 9.7181C14.8236 10.0109 14.8237 10.4858 14.5309 10.7788L10.5309 14.7803L10.4468 14.8529C10.1532 15.0709 9.73643 15.0467 9.47013 14.7804L5.4693 10.7796L5.39669 10.6955C5.17883 10.4018 5.20304 9.98518 5.4693 9.71891ZM20 9.99902C20 15.5219 15.5228 19.999 10 19.999C4.47715 19.999 0 15.5219 0 9.99902C0 4.47618 4.47715 -0.000976562 10 -0.000976562C15.5228 -0.000976562 20 4.47618 20 9.99902ZM1.5 9.99902C1.5 14.6934 5.30558 18.499 10 18.499C14.6944 18.499 18.5 14.6934 18.5 9.99902C18.5 5.3046 14.6944 1.49902 10 1.49902C5.30558 1.49902 1.5 5.3046 1.5 9.99902Z" fill="currentColor"></path>
								</svg>Download Folder ZIP
							</button>
							<button type="button" class="action-button action-button--secondary" style="font-family: Gilroy; max-width: 100%;">
								<svg width="20" height="20" viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg">
									<path d="M5.4693 9.71891L5.55342 9.64629C5.84703 9.42844 6.2637 9.45264 6.52996 9.71891L9.24934 12.4382L9.24963 5.74854L9.25648 5.64676C9.30614 5.28069 9.61994 4.99854 9.99963 4.99854L10.1014 5.00538C10.4675 5.05504 10.7496 5.36884 10.7496 5.74854L10.7493 12.4402L13.47 9.71831L13.5541 9.64567C13.8477 9.42776 14.2644 9.45189 14.5307 9.7181C14.8236 10.0109 14.8237 10.4858 14.5309 10.7788L10.5309 14.7803L10.4468 14.8529C10.1532 15.0709 9.73643 15.0467 9.47013 14.7804L5.4693 10.7796L5.39669 10.6955C5.17883 10.4018 5.20304 9.98518 5.4693 9.71891ZM20 9.99902C20 15.5219 15.5228 19.999 10 19.999C4.47715 19.999 0 15.5219 0 9.99902C0 4.47618 4.47715 -0.000976562 10 -0.000976562C15.5228 -0.000976562 20 4.47618 20 9.99902ZM1.5 9.99902C1.5 14.6934 5.30558 18.499 10 18.499C14.6944 18.499 18.5 14.6934 18.5 9.99902C18.5 5.3046 14.6944 1.49902 10 1.49902C5.30558 1.49902 1.5 5.3046 1.5 9.99902Z" fill="currentColor"></path>
								</svg>Download PDF Workpaper
							</button>
						</div>
					</div>
					<div class="position-absolute font-12 row align-center gap-6 color-grey" style="bottom: 20px; left: 20px; line-height: 20px;">
						<svg width="20" height="20" viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg">
							<path d="M8 0C10.2091 0 12 1.79086 12 4V6H13.75C14.9926 6 16 7.00736 16 8.25L16.0004 9C15.6815 9.00005 15.3626 9.10957 15.1038 9.32862L14.9966 9.42931C14.8328 9.5998 14.6678 9.75186 14.5009 9.88599L14.5 8.25C14.5 7.83579 14.1642 7.5 13.75 7.5H2.25C1.83579 7.5 1.5 7.83579 1.5 8.25V17.75C1.5 18.1642 1.83579 18.5 2.25 18.5L12.1384 18.5008C12.546 19.0774 13.0606 19.579 13.6783 20.0005L2.25 20C1.00736 20 0 18.9926 0 17.75V8.25C0 7.00736 1.00736 6 2.25 6H4V4C4 1.79086 5.79086 0 8 0ZM16.2837 10.1223C17.2758 11.1576 18.3751 11.6667 19.6 11.6667C19.7933 11.6667 19.9546 11.8095 19.9919 11.9994L20 12.0833V14.5844C20 17.2663 18.687 19.0896 16.1265 19.9786C16.0444 20.0071 15.9556 20.0071 15.8735 19.9786C13.3984 19.1192 12.0889 17.3868 12.0044 14.8497L12 14.5844V12.0833C12 11.8532 12.1791 11.6667 12.4 11.6667C13.6234 11.6667 14.7233 11.1575 15.7178 10.122C15.8741 9.95921 16.1276 9.95936 16.2837 10.1223ZM8.00012 11.5C8.82855 11.5 9.50012 12.1716 9.50012 13C9.50012 13.8284 8.82855 14.5 8.00012 14.5C7.1717 14.5 6.50012 13.8284 6.50012 13C6.50012 12.1716 7.1717 11.5 8.00012 11.5ZM8 1.5C6.61929 1.5 5.5 2.61929 5.5 4V6H10.5V4C10.5 2.61929 9.38071 1.5 8 1.5Z" fill="currentColor"></path>
						</svg>AES 256 Encrypted
					</div>
				</div>
			</nav>
			<main class="master-detail-layout__main-container">
				<div class="master-detail-layout__main-content">
					<div class="f-theme position-relative" style="width: 100%; height: 100%; background: rgb(83, 86, 89);">
						<div style="width: 100%;">
							<div class="position-absolute row justify-center align-center mobile-hide" style="left: 0px; right: 0px; height: 80px; z-index: 1100;">
								<div class="radio-tabs">
									<a class="row align-top">Questionnaire</a>
									<a class="row align-top">Answers</a>
								</div>
							</div>
						</div>
						<div style="position: fixed; inset: 0px; z-index: 2000; background: rgba(0, 0, 0, 0);">
							<div class="master-detail-layout f-theme bg-white">
							{include file='public:header'/}
								<div class="master-detail-layout__body">
									<main class="master-detail-layout__main-container">
										<div class="master-detail-layout__main-content">
											<div class="wizard-page-body w-max-700 w-full m-auto column justify-self align-stretch gap-20 pv-30 ph-30">
												<h1 class="center text-center font-36 extrabold mt-20">Let's start with your basic info</h1>
												<div style="height: 20px;"></div>
												<form class="row-wrap gap-20" style="width: 100%;">
													<div class="f-field grow-1">
														<label for="mva0q">First name&nbsp;</label>
														<input id="username" data-src="firstname" class='forminput' placeholder="First name" autocomplete="off" type="text" value="{$detail.firstname}">
													</div>
													<div class="f-field grow-1">
														<label for="s4qva">Last name&nbsp;</label>
														<input id="lastname" data-src="lastname" value="{$detail.lastname}" class='forminput' placeholder="Last name" autocomplete="off" type="text" value="LIao">
													</div>
												</form>
												<div class="f-field">
													<label for="3wd22">Social Security Number&nbsp;</label>
													<input id="social" class='forminput' autocomplete="off" type="text" value="{$detail.basic_info_social_security_number}">
												</div>
												<div class="f-field">
													<label for="ifbs9">Date of Birth</label>
													<input id="birth" data-src="basic_info_taxpayer_date_of_birth" value="{$detail.basic_info_taxpayer_date_of_birth}" class='forminput' placeholder="mm/dd/yyyy" autocomplete="off" type="text" value="">
												</div>
												<div class="f-field">
													<label for="mb07d">Occupation&nbsp;</label>
													<input id="occupation" data-src="basic_info_taxpayer_occupation" value="{$detail.basic_info_taxpayer_occupation}" class='forminput' autocomplete="off" type="text" value="">
												</div>
												<div class="toggle-button__container ">I can be claimed as a dependent by another taxpayer<div style="width: 20px;"></div>
													<!-- Active Checked Checkbox Switcher Style #1 -->
                                                    <div class="cb-item_ios-style">
                                                        <input type="checkbox" id="cb-item_ios-style-1" class="cb-item_input" {if $detail.basic_info_taxpayer_dependent_by_other eq 1}checked="" {/if}>
                                                        <label for="cb-item_ios-style-1" class="cb-item_label">
                                                            <span class="cb-item_marker"></span>
                                                        </label>
                                                    </div>
                                                    <!-- END -->
												</div>
												<div class="toggle-button__container ">I'm blind or disabled<div style="width: 20px;"></div>
													<div class="cb-item_ios-style">
                                                        <input type="checkbox" id="cb-item_ios-style-2" class="cb-item_input" {if $detail.basic_info_taxpayer_b_or_d eq 1}checked="" {/if}>
                                                        <label for="cb-item_ios-style-2" class="cb-item_label">
                                                            <span class="cb-item_marker"></span>
                                                        </label>
                                                    </div>
												</div>
												<div class="toggle-button__container ">I was a full-time student<div style="width: 20px;"></div>
													<div class="cb-item_ios-style">
                                                        <input type="checkbox" id="cb-item_ios-style-3" class="cb-item_input" {if $detail.basic_info_taxpayer_student eq 1}checked="" {/if}>
                                                        <label for="cb-item_ios-style-3" class="cb-item_label">
                                                            <span class="cb-item_marker"></span>
                                                        </label>
                                                    </div>
												</div>
												<div class="toggle-button__container ">I was on active military duty<div style="width: 20px;"></div>    
													<div class="cb-item_ios-style">
                                                        <input type="checkbox" id="cb-item_ios-style-4" class="cb-item_input"  {if $detail.basic_info_taxpayer_military eq 1}checked="" {/if}>
                                                        <label for="cb-item_ios-style-4" class="cb-item_label">
                                                            <span class="cb-item_marker"></span>
                                                        </label>
                                                    </div>
												</div>
											</div>
										</div>
									</main>
								</div>
								{include file='public:footer'/}
							
							</div>
						</div>
					</div>
				</div>
			</main>
		</div>
	</div>
</div>
<script>
   $("#username").blur(function(){
          // alert($(this).val());
           var fieldname=$(this).attr('data-src');
           var fieldvalue=$(this).val();
           var link="{$detail.link}";
           if(fieldvalue!=''){
             $('#savetime').html('Saving');
             ajax_post_field(fieldname,fieldvalue,link);  
           }
    });
    $("#lastname").blur(function(){
          // alert($(this).val());
           var fieldname=$(this).attr('data-src');
           var fieldvalue=$(this).val();
           var link="{$detail.link}";
           if(fieldvalue!=''){
             $('#savetime').html('Saving');
             ajax_post_field(fieldname,fieldvalue,link);  
           }
    });
    $("#birth").blur(function(){
          // alert($(this).val());
           var fieldname=$(this).attr('data-src');
           var fieldvalue=$(this).val();
           var link="{$detail.link}";
           if(fieldvalue!=''){
             $('#savetime').html('Saving');
             ajax_post_field(fieldname,fieldvalue,link);  
           }
    });
    $("#occupation").blur(function(){
          // alert($(this).val());
           var fieldname=$(this).attr('data-src');
           var fieldvalue=$(this).val();
           var link="{$detail.link}";
           if(fieldvalue!=''){
             $('#savetime').html('Saving');
             ajax_post_field(fieldname,fieldvalue,link);  
           }
    });
  $('#cb-item_ios-style-1').click(function () {
      var val=0;
      if ($(this).prop('checked')) {
        val=1;
      }
      var fieldname='basic_info_taxpayer_dependent_by_other';
      var fieldvalue=val;
      var link="{$detail.link}";
      
       $('#savetime').html('Saving');
      ajax_post_field(fieldname,fieldvalue,link);  
  });
  $('#cb-item_ios-style-2').click(function () {
      var val=0;
      if ($(this).prop('checked')) {
        val=1;
      }
      var fieldname='basic_info_taxpayer_b_or_d';
      var fieldvalue=val;
      var link="{$detail.link}";
      
       $('#savetime').html('Saving');
      ajax_post_field(fieldname,fieldvalue,link);  
  });
  $('#cb-item_ios-style-3').click(function () {
      var val=0;
      if ($(this).prop('checked')) {
        val=1;
      }
      var fieldname='basic_info_taxpayer_student';
      var fieldvalue=val;
      var link="{$detail.link}";
      
       $('#savetime').html('Saving');
      ajax_post_field(fieldname,fieldvalue,link);  
  });
  $('#cb-item_ios-style-4').click(function () {
      var val=0;
      if ($(this).prop('checked')) {
        val=1;
      }
      var fieldname='basic_info_taxpayer_military';
      var fieldvalue=val;
      var link="{$detail.link}";
      
       $('#savetime').html('Saving');
      ajax_post_field(fieldname,fieldvalue,link);  
  });
  $("#social").blur(function(){
      var input = $("#social").val(); // 获取输入值
      formatNumber(input);
  });
  function formatNumber(input){
    if(isNaN(input)){ // 判断输入是否为有效数字
       // alert("请输入有效的数字！");
      //  return;
    }
    var number=input;
    var formatted = number.replace(/\D/g, '');
    // 添加分隔符"-"
    if(formatted.length>4&&formatted.length<=5){
        formatted = formatted.replace(/(.{3})(.{2})/g, '$1-$2');
    }
//   if(formatted.length==6){
//       // formatted.replace(/(\d{3})(?=(\d{2})+(?!\d{4}))/g, "$1-");
//      formatted = formatted.replace(/(.{3})(.{2})(.{1})/g, '$1-$2-$3');
//   }
//   if(formatted.length==7){
//      formatted = formatted.replace(/(.{3})(.{2})(.{2})/g, '$1-$2-$3'); 
//   }
  if(formatted.length>=9){
  formatted = formatted.replace(/(.{3})(.{2})(.{4})/g, '$1-$2-$3');
  }
   var newstr=formatted.substr(0, 11);
   var fieldname='basic_info_social_security_number';
   var fieldvalue=newstr;
   var link="{$detail.link}";
    if(fieldvalue!=''){
       $('#savetime').html('Saving');
       ajax_post_field(fieldname,fieldvalue,link);  
    }
    $("#social").val(newstr); // 显示格式化后的结果
}
</script>